<!DOCTYPE html>
<html>
<body>
<div id="toast-container"></div>
<div id="veritas-modal-root"></div>
<!-- Minimal DOM to prevent script errors -->
<div id="loader"></div>
<select id="poll-select"></select>
<button id="start-poll-btn"></button>
<button id="send-link-btn"></button>
<button id="view-links-btn"></button>
<div id="header-session-controls"></div>
<aside id="dashboard-sidebar"></aside>
<div id="dashboard"></div>
<div id="live-view"></div>
<div id="roster-manager"></div>
<div id="archived-view"></div>
<div id="analytics-view"></div>
<div id="header-default"></div>
<div id="header-live"></div>
<div id="poll-creator-modal"></div>
<div id="student-links-modal"></div>
<select id="poll-sort-select"></select>
<select id="poll-filter-select"></select>
<input id="poll-search-input">
<button id="poll-search-clear-btn"></button>
<div id="polls-card-view"></div>
<div id="polls-table-body"></div>
<div id="polls-empty-state"></div>
<select id="class-select"></select>
<div id="secure-assessment-settings"></div>
<div id="secure-session-meta"></div>
<div id="secure-session-time"></div>
<span id="secure-session-time-text"></span>
<div id="secure-session-access"></div>
<span id="secure-session-access-value"></span>
<div id="secure-session-window"></div>
<span id="secure-session-window-text"></span>
<input id="secure-time-limit-input">
<input id="secure-access-code-input">
<input id="secure-available-input">
<input id="secure-due-input">
<div id="student-manager-modal"></div>
<div id="student-manager-name"></div>
<div id="student-manager-status"></div>
<div id="student-manager-progress"></div>
<div id="student-manager-time"></div>
<div id="student-manager-extra"></div>
<div id="student-manager-connection"></div>
<div id="student-manager-connection-dot"></div>
<div id="student-manager-message"></div>
<div id="student-manager-loading"></div>
<button id="student-manager-add-5"></button>
<button id="student-manager-add-10"></button>
<button id="student-manager-pause"></button>
<button id="student-manager-unlock"></button>
<button id="student-manager-force-submit"></button>
<button id="student-manager-close"></button>
<input id="bulk-time-input">
<button id="bulk-time-all-btn"></button>
<button id="bulk-time-selected-btn"></button>
<span id="bulk-selection-count"></span>
<button id="bulk-selection-clear"></button>
<span id="bulk-selected-label"></span>
<button id="question-sort-reset-btn"></button>
<p id="question-sort-help"></p>
<div id="question-navigator"></div>
<select id="archived-class-filter"></select>
<div id="archived-list"></div>
<div id="archived-empty-state"></div>
<div id="archived-detail"></div>
<div id="archived-poll-title"></div>
<div id="archived-poll-meta"></div>
<div id="archived-question-count"></div>
<div id="archived-response-count"></div>
<div id="archived-questions-container"></div>
<div id="roster-class-list"></div>
<div id="roster-class-title"></div>
<div id="roster-empty-state"></div>
<div id="roster-table-wrapper"></div>
<div id="roster-table-body"></div>
<div id="roster-status"></div>
<button id="rename-class-btn"></button>
<button id="delete-class-btn"></button>
<button id="add-class-btn"></button>
<button id="add-student-row-btn"></button>
<button id="save-roster-btn"></button>
<button id="refresh-archived-btn"></button>
<div id="student-search-container"></div>
<div id="poll-search-container"></div>
<div id="analytics-student-search-container"></div>
<div id="timer-main-container"></div>
<div id="timer-compact-container"></div>
<input id="timer-display">
<button id="fab-main-toggle"></button>
<div id="fab-menu"></div>
<div id="fab-container"></div>
<div id="activity-feed"></div>
<div id="activity-feed-list"></div>
<div id="activity-feed-count"></div>
<div id="toast-container"></div>

<!-- Additional Missing Elements -->
<button id="nav-create-poll"></button>
<button id="nav-polls-list"></button>
<button id="nav-rosters"></button>
<button id="nav-archived"></button>
<button id="nav-analytics"></button>
<button id="close-modal-btn"></button>
<button id="close-links-modal-btn"></button>
<button id="close-preview-modal-btn"></button>
<button id="preview-prev-question-btn"></button>
<button id="preview-next-question-btn"></button>
<button id="preview-open-links-btn"></button>
<button id="preview-edit-question-btn"></button>
<button id="preview-delete-question-btn"></button>
<button id="preview-reorder-btn"></button>
<button id="add-question-btn"></button>
<button id="save-poll-btn"></button>
<input id="new-poll-name">
<button id="header-start-btn"></button>
<button id="header-end-show-btn"></button>
<button id="header-stop-btn"></button>
<button id="live-more-actions-btn"></button>
<button id="header-edit-poll-btn"></button>
<button id="header-back-btn"></button>
<button id="header-next-btn"></button>
<button id="header-reset-question-btn"></button>
<button id="hide-results-btn"></button>
<button id="strip-next-btn"></button>
<button id="dashboard-sidebar-toggle"></button>
<button id="dashboard-sidebar-toggle-live"></button>
<button id="focus-lockouts-btn"></button>
<button id="hud-focus-lockouts-btn"></button>
<button id="start-btn"></button>
<button id="pause-btn"></button>
<button id="reset-btn"></button>
<button id="add-10s-btn"></button>
<button id="subtract-10s-btn"></button>
<button id="header-send-link-btn"></button>
<button id="header-view-links-btn"></button>
<button id="bulk-add-students-btn"></button>
<button id="cancel-bulk-add-btn"></button>
<button id="confirm-bulk-add-btn"></button>
<input id="student-search-input">
<input id="analytics-student-search">
<button id="analytics-apply-filters-btn"></button>
<button id="analytics-clear-filters-btn"></button>
<button id="analytics-refresh-btn"></button>
<button id="analytics-export-btn"></button>
<select id="analytics-class-filter"></select>
<input id="analytics-date-from">
<input id="analytics-date-to">
<button id="view-cards-btn"></button>
<button id="view-table-btn"></button>
<div id="polls-table-view"></div>
<button id="view-analytics-btn"></button>
<button id="close-analytics-modal-btn"></button>
<div id="post-poll-analytics-modal"></div>
<button id="filter-locked-only-btn"></button>
<button id="filter-all-btn"></button>
<button id="dismiss-violations-alert"></button>
<div id="violations-alert-panel"></div>
<button id="approve-all-unlocks-btn"></button>
<button id="toggle-exited-panel-btn"></button>
<button id="add-30s-btn-preset"></button>
<button id="add-60s-btn-preset"></button>
<button id="end-individual-session-btn"></button>
<button id="view-book-report-btn"></button>
<button id="book-tab-students"></button>
<button id="book-tab-questions"></button>
<button id="book-tab-matrix"></button>

<script>
// Mock SecureAssessmentShared
window.SecureAssessmentShared = {
    createHeartbeat: () => ({ stop: () => {}, start: () => {} }),
    createCountdown: () => ({ stop: () => {}, start: () => {}, pause: () => {}, set: () => {} })
};

// Mock google.script.run
window.lastCall = {};
window.google = {
    script: {
        run: {
            withSuccessHandler: function(cb) {
                this._success = cb;
                return this;
            },
            withFailureHandler: function(cb) {
                this._failure = cb;
                return this;
            },
            teacherApproveUnlock: function(email, pollId, lockVersion) {
                console.log('Called teacherApproveUnlock with:', email, pollId, lockVersion, typeof lockVersion);
                window.lastCall = {
                    function: 'teacherApproveUnlock',
                    email: email,
                    pollId: pollId,
                    lockVersion: lockVersion,
                    type: typeof lockVersion
                };
                if (this._success) this._success({ok: true});
            },
            getTeacherDashboardData: function() {
                 if (this._success) this._success({polls: [], classes: []});
            },
            getDashboardSummary: function() {
                 if (this._success) this._success({});
            }
        }
    }
};
</script>
